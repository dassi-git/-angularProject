<div class="container-fluid p-4">
  <h1 class="mb-4">  砖专 </h1>

  <!-- 注转 注 -->
  <div *ngIf="isLoading" class="loading-spinner">
    <div class="spinner"></div>
    <p>注 转...</p>
  </div>

  <!-- 注转 砖 -->
  <div *ngIf="errorMessage" class="alert alert-danger alert-dismissible fade show" role="alert">
    锔 {{ errorMessage }}
    <button type="button" class="btn-close" (click)="errorMessage = ''" aria-label="Close"></button>
  </div>

  <!--  住转 -->
  <div class="row mb-4" *ngIf="!isLoading">
    <div class="col-md-12">
      <h2 class="mb-3"> 住 住转</h2>
    </div>

    <div class="col-md-4">
      <div class="card revenue-card">
        <div class="card-body">
          <h5 class="card-title">住" 住转</h5>
          <h2 class="text-success">{{ revenueReport.totalRevenue || 0 | number:'1.2-2' }}</h2>
          <p class="text-muted">住  专砖转 砖专转</p>
        </div>
      </div>
    </div>

    <div class="col-md-4">
      <div class="card stats-card">
        <div class="card-body">
          <h5 class="card-title">住" 转</h5>
          <h2 class="text-info">{{ revenueReport.totalOrders || 0 }}</h2>
          <p class="text-muted">转 砖砖 爪</p>
        </div>
      </div>
    </div>

    <div class="col-md-4">
      <div class="card stats-card">
        <div class="card-body">
          <h5 class="card-title">住" 专住</h5>
          <h2 class="text-warning">{{ revenueReport.totalTicketsSold || 0 }}</h2>
          <p class="text-muted">专住 砖专 </p>
        </div>
      </div>
    </div>
  </div>

  <!-- 转 转转 注  -->
  <div class="row" *ngIf="!isLoading && giftsWithWinners.length > 0">
    <div class="col-md-12">
      <h2 class="mb-3"> 转转 </h2>
      
      <div class="table-responsive">
        <table class="table table-hover table-striped">
          <thead class="table-dark">
            <tr>
              <th>住驻专 转</th>
              <th>砖 转</th>
              <th>砖 </th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let gift of giftsWithWinners">
              <td><strong>#{{ gift.giftId }}</strong></td>
              <td>{{ gift.giftName }}</td>
              <td>
                <span *ngIf="gift.winnerName; else noWinner" class="badge bg-primary">
                   {{ gift.winnerName }}
                </span>
                <ng-template #noWinner>
                  <span class="badge bg-secondary"> 爪注 专</span>
                </ng-template>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>

  <!-- 注 砖 转 -->
  <div *ngIf="!isLoading && giftsWithWinners.length === 0" class="alert alert-info">
    <h5> 转 </h5>
    <p>注  专 转转 注专转</p>
  </div>
</div>